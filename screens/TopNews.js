import React, { useState, useEffect } from 'react';
import { StyleSheet, Text, View, Image, Button } from 'react-native';
import SwitchSelector from 'react-native-switch-selector';
import { FlatGrid } from 'react-native-super-grid';
import { useNavigation } from '@react-navigation/native';

const url = 'https://newsapi.org/v2/top-headlines?country=us&apiKey=368ff13b1a4445e7a86205f4b0538391'

const options = [
  { label: 'GB', value: 'gb' },
  { label: 'US', value: 'us' },
];

const gbNews = {"status":"ok","totalResults":38,"articles":[{"source":{"id":null,"name":"Daily Record"},"author":"Julie Dunnett, Andy Philip","title":"Nicola Sturgeon update LIVE as Scots told final council lockdown details with no area placed in level four - Scottish Daily Record","description":"The first minster announced how the new five-tier lockdown each of Scotland's local authorities is being applied.","url":"https://www.dailyrecord.co.uk/news/scottish-news/nicola-sturgeon-update-live-tells-22923462","urlToImage":"https://i2-prod.dailyrecord.co.uk/incoming/article22914745.ece/ALTERNATES/s1200/5_JS220528472.jpg","publishedAt":"2020-10-29T12:26:25Z","content":"There are fears that thousands of Scots may have missed out on cancer treatment due to pandemic\r\nFears have been raised that thousands of Scots may have missed out on cancer treatment or could have t… [+1805 chars]"},{"source":{"id":null,"name":"Sky.com"},"author":"Sky","title":"Corbyn says Labour antisemitism complaints 'overstated' as party found to have broken law - Sky News","description":"Labour broke the law in its failure to handle complaints, the equalities watchdog has found.","url":"https://news.sky.com/story/serious-failings-by-labour-leadership-over-antisemitism-report-concludes-12117641","urlToImage":"https://e3.365dm.com/20/07/1600x900/skynews-labour-generic_5046228.jpg?20200722101517","publishedAt":"2020-10-29T12:22:30Z","content":null},{"source":{"id":"independent","name":"Independent"},"author":"Samuel Lovett","title":"Tier 3 lockdown: ‘Inevitable’ that Birmingham will move to highest level of restrictions, says council leader - The Independent","description":"‘I'm talking to the other Met Leaders, MPs and public health officials on a daily basis as we put our asks together for moving into Tier 3,’ says Ian Ward","url":"https://www.independent.co.uk/news/health/tier-3-birmingham-restrictions-lockdown-update-new-rules-announcement-b1419865.html","urlToImage":"https://static.independent.co.uk/2020/10/29/10/GettyImages-1228153553.jpg","publishedAt":"2020-10-29T12:12:00Z","content":"It is inevitable that Birmingham will move into Tier 3 restrictions, a local council leader has said, as infections and hospitalisations continue to rise across the West Midlands region.\r\nThis comes … [+15417 chars]"},{"source":{"id":"bbc-news","name":"BBC News"},"author":null,"title":"Six Nations 2020: England's Jonny Hill to make debut against Italy - BBC Sport","description":"Exeter's double-winning lock Jonny Hill will make his England debut in Saturday's Six Nations match against Italy in Rome.","url":"https://www.bbc.co.uk/sport/rugby-union/54732472","urlToImage":"https://ichef.bbci.co.uk/live-experience/cps/624/cpsprodpb/1915/production/_115112460_gettyimages-1229264333.jpg","publishedAt":"2020-10-29T12:08:00Z","content":"Jonny Hill won the Champions Cup and Premiership with Exeter earlier in October\r\n<table><tr><th>Guinness Six Nations: Italy v England</th></tr>\r\n<tr><td>Venue: Stadio Olimpico, Rome Date: Saturday, 3… [+2560 chars]"},{"source":{"id":null,"name":"9to5Mac"},"author":null,"title":"Strong demand for the iPhone 12 Pro reportedly surprised Apple - 9to5Mac","description":"Apple analyst Ming-Chi Kuo recently suggested there was stronger than expected demand for the iPhone 12 Pro, and that is backed by a new supply-chain ...","url":"https://9to5mac.com/2020/10/29/demand-for-the-iphone-12-pro/","urlToImage":"https://9to5mac.com/wp-content/uploads/sites/6/2020/10/Strong-demand-for-the-iPhone-12-Pro.jpg?quality=82&strip=all","publishedAt":"2020-10-29T11:54:00Z","content":"Apple analyst Ming-Chi Kuo recently suggested there was stronger than expected demand for the iPhone 12 Pro, and that is backed by a new supply-chain report.\r\nApple reportedly expected demand for the… [+1864 chars]"},{"source":{"id":null,"name":"The Guardian"},"author":"Nouriel Roubini","title":"Investors should prepare for worst over US presidential election - The Guardian","description":"If result is contested it could drag on for weeks and trigger a major risk-off episode in markets","url":"https://www.theguardian.com/business/2020/oct/29/investors-should-prepare-for-worst-over-us-presidential-election","urlToImage":"https://i.guim.co.uk/img/media/08b397b0fa40ffd020865b2149222ad92fb9b844/21_22_3151_1891/master/3151.jpg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctb3BpbmlvbnMucG5n&enable=upscale&s=a49db003bc64bce723ff3f6a15b10339","publishedAt":"2020-10-29T10:34:00Z","content":"Opinion polls in the US have long pointed to the strong possibility of a Democratic party sweep in the election on 3 November, with Joe Biden winning the presidency and Democrats gaining control of t… [+6237 chars]"},{"source":{"id":"al-jazeera-english","name":"Al Jazeera English"},"author":"Usaid Siddiqui","title":"Knife attack in Nice sends France into further shock: Live news - Al Jazeera English","description":"Three killed in stabbing assault as security threat raised to highest, with mayor describing crime as ‘terrorism’.","url":"https://www.aljazeera.com/news/2020/10/29/two-dead-in-french-city-nice-several-hurt-live-news","urlToImage":"https://www.aljazeera.com/wp-content/uploads/2020/10/000_8U43VF.jpg?resize=1200%2C630","publishedAt":"2020-10-29T10:28:18Z","content":"An attacker with a knife killed at least three people and wounded several others at a church in the French city of Nice on Thursday, French officials said, in an incident the citys mayor described as… [+8622 chars]"},{"source":{"id":null,"name":"Daily Mail"},"author":"By Tim Stickings For Mailonline","title":"Coronavirus France: Macron's 5,000-a-day cases target is impossible, scientific adviser says - Daily Mail","description":"Professor Jean-Francois Delfraissy said France would 'need more time' to bring infections down from their current rate of nearly 40,000 a day, meaning lockdown may extend beyond December 1.","url":"https://www.dailymail.co.uk/news/article-8892487/Coronavirus-France-Macrons-5-000-day-cases-target-impossible-scientific-adviser-says.html","urlToImage":"https://i.dailymail.co.uk/1s/2020/10/29/10/34993216-0-image-a-8_1603966989914.jpg","publishedAt":"2020-10-29T10:25:00Z","content":"French lockdown restrictions due to come into force Friday morning at 00:01am\r\nEmmanuel Macron's target of slashing France's coronavirus infections to 5,000 a day is impossible to achieve in the mont… [+17032 chars]"},{"source":{"id":null,"name":"Sky Sports"},"author":"Carl Froch","title":"Usyk vs Chisora: Anthony Joshua has 'nothing to worry about' in Oleksandr Usyk, says Carl Froch - Sky Sports","description":"Anthony Joshua has 'got nothing to worry about' in Oleksandr Usyk, if the former cruiserweight king stays on course for a world heavyweight title fight, says Carl Froch.","url":"https://www.skysports.com/boxing/news/12040/12117617/usyk-vs-chisora-anthony-joshua-has-nothing-to-worry-about-in-oleksandr-usyk-says-carl-froch","urlToImage":"https://e2.365dm.com/20/10/1600x900/skysports-anthony-joshua-boxing_5153889.jpg","publishedAt":"2020-10-29T10:14:45Z","content":"Anthony Joshua has 'got nothing to worry about' in Oleksandr Usyk, if the former cruiserweight king stays on course for a world heavyweight title fight, says Carl Froch.\r\nThe Ukrainian star is the WB… [+2631 chars]"},{"source":{"id":"bbc-news","name":"BBC News"},"author":"https://www.facebook.com/bbcnews","title":"Bobby Ball: Cannon & Ball star dies aged 76 after Covid-19 diagnosis - BBC News","description":"The star was one half of comedy duo Cannon & Ball and appeared in Last of the Summer Wine.","url":"https://www.bbc.co.uk/news/entertainment-arts-54731384","urlToImage":"https://ichef.bbci.co.uk/news/1024/branded_news/16BC1/production/_115112139_bobbyball.jpg","publishedAt":"2020-10-29T10:11:00Z","content":"image captionBobby Ball appeared in comedy programmes including Last of the Summer Wine\r\nBobby Ball, one half of the comedy double act Cannon and Ball, has died at the age of 76, his manager has conf… [+2808 chars]"},{"source":{"id":null,"name":"Sky.com"},"author":"Sky","title":"Hurricane Zeta: At least one dead as record-setting storm lashes US Gulf Coast - Sky News","description":"Forecasters warn the storm remains \"life-threatening\", and more than one million people have been left without power.","url":"https://news.sky.com/story/hurricane-zeta-at-least-one-dead-as-record-setting-storm-lashes-us-gulf-coast-12117569","urlToImage":"https://e3.365dm.com/20/10/1600x900/skynews-hurricane-zeta-gulf-coast_5153862.jpg?20201029091753","publishedAt":"2020-10-29T10:02:30Z","content":null},{"source":{"id":null,"name":"Mirror Online"},"author":"Thomas Bristow","title":"Marcus Rashford honours Romelu Lukaku with gesture in Man Utd's win over RB Leipzig - Mirror Online","description":"The Manchester United forward netted a hat-trick from the bench in his side's Champions League drumming of RB Leipzig","url":"https://www.mirror.co.uk/sport/football/news/marcus-rashford-honours-romelu-lukaku-22923874","urlToImage":"https://i2-prod.mirror.co.uk/incoming/article22923749.ece/ALTERNATES/s1200/0_Manchester-United-vs-RB-Leipzig-United-Kingdom-28-Oct-2020.jpg","publishedAt":"2020-10-29T10:01:00Z","content":"Marcus Rashford's generosity off the pitch has extended to on it this time with Anthony Martial receiving the benefits.\r\n The Manchester United striker netted a hat-trick against RB Leipzig on Wednes… [+2112 chars]"},{"source":{"id":null,"name":"GamesRadar+"},"author":"Hirun Cryer","title":"Final Fantasy 16 characters and world detailed in new teaser website - GamesRadar+","description":"Clive, Joshua, and Jill lead the new game","url":"https://www.gamesradar.com/final-fantasy-16-characters-and-world-detailed-in-new-teaser-website/","urlToImage":"https://cdn.mos.cms.futurecdn.net/UWam9mhzxTwi6pz7FpPFun-1200-80.jpg",
"publishedAt":"2020-10-29T09:55:00Z","content":"The first teaser information for Final Fantasy 16 has now been published by Square Enix, with details of characters and the game's world being revealed.\r\nFirstly, you can see three main characters fr… [+2374 chars]"},{"source":{"id":null,"name":"Manchester Evening News"},"author":"Saffron Otter","title":"Coronavirus LIVE UK updates as government will 'try everything in our power to avoid national lockdown' - Manchester Evening News","description":"The latest breaking news on the coronavirus pandemic from Greater Manchester, the UK and the rest of the world","url":"https://www.manchestereveningnews.co.uk/news/uk-news/coronavirus-live-uk-updates-government-19183968","urlToImage":"https://i2-prod.manchestereveningnews.co.uk/incoming/article19183979.ece/ALTERNATES/s1200/0_featureimage.jpg","publishedAt":"2020-10-29T09:24:21Z","content":"The government is considering a rapid rollout of saliva-based coronavirus kits in a bid to test up to 10 per cent of Englands population every week, according to reports.\r\nThe Guardian reports that N… [+1846 chars]"},{"source":{"id":null,"name":"Evening Standard"},"author":"Sean Morrison","title":"Tracey Emin says she hopes to 'get past Christmas' following cancer diagnosis - Evening Standard","description":"","url":"https://www.standard.co.uk/news/uk/tracey-emin-cancer-diagnosis-a4573341.html","urlToImage":"https://static.standard.co.uk/s3fs-public/thumbnails/image/2020/10/29/09/2910eminv1.jpg","publishedAt":"2020-10-29T09:04:00Z","content":"Tracey Emin has said she hopes to \"get past Christmas\" following her cancer diagnosis earlier this year.\r\nThe artist, 57, was diagnosed in spring and underwent an operation in the summer after discov… [+2466 chars]"},{"source":{"id":null,"name":"Express"},"author":"Charlie Milward","title":"Charlotte Hawkins explodes at MP as she fiercely defends GMB co-star Piers Morgan - Express","description":"CHARLOTTE HAWKINS exploded at Conservative MP Tim Loughton during Thursday's edition of Good Morning Britain as she defended co-star Piers Morgan over the Government's boycott of the ITV news show.","url":"https://www.express.co.uk/showbiz/tv-radio/1353601/Charlotte-Hawkins-explode-MP-Tim-Loughton-Good-Morning-Britain-Piers-Morgan-ITV-video","urlToImage":"https://cdn.images.express.co.uk/img/dynamic/20/750x445/1353601.jpg","publishedAt":"2020-10-29T08:40:00Z","content":null},{"source":{"id":null,"name":"Sky.com"},"author":"Sky","title":"Coronavirus: 'Circuit-breaker' is not the right approach, Robert Jenrick says - Sky News","description":"Mr Jenrick tells Kay Burley \"it is our very firm view\" that a national lockdown would be damaging for people's lives and health.","url":"https://news.sky.com/story/coronavirus-circuit-breaker-is-not-the-right-approach-robert-jenrick-says-12117525","urlToImage":"https://e3.365dm.com/20/10/1600x900/skynews-coronavirus-face-mask_5153811.jpg?20201029082544","publishedAt":"2020-10-29T08:26:15Z","content":null},{"source":{"id":null,"name":"The Guardian"},"author":"Graeme Wearden","title":"Markets nervous over Covid-19 lockdowns ahead of US GDP and ECB meeting - business live - The Guardian","description":"Rolling coverage of the latest economic and financial news","url":"https://www.theguardian.com/business/live/2020/oct/29/markets-nervous-covid-19-lockdowns-us-gdp-growth-ecb-unemployment-business-live","urlToImage":"https://i.guim.co.uk/img/media/dacad9c5034af1cd50c4deaae8469d7a74fd15e5/0_31_5760_3456/master/5760.jpg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctbGl2ZS5wbmc&enable=upscale&s=fe3118680ea895ab55f136e3a19ede6a","publishedAt":"2020-10-29T08:25:00Z","content":null},{"source":{"id":"financial-times","name":"Financial Times"},"author":null,"title":"Shell raises dividend in pitch to shareholders - Financial Times","description":"Oil major’s share price has fallen to 25-year low following April cut to payout","url":"https://www.ft.com/content/593a9548-491c-45d4-9a22-5100079208cf","urlToImage":"https://www.ft.com/__origami/service/image/v2/images/raw/https%3A%2F%2Fd1e00ek4ebabms.cloudfront.net%2Fproduction%2Fe0d54fa9-1b69-4b0d-8f51-bd21585238ea.jpg?source=next-opengraph&fit=scale-down&width=900","publishedAt":"2020-10-29T08:17:00Z","content":"Royal Dutch Shell raised its dividend on Thursday, insisting it could afford higher payouts even as the oil and gas company navigates the twin challenges of the pandemic and the shift towards lower c… [+3946 chars]"},{"source":{"id":null,"name":"Mirror Online"},"author":"Shivali Best","title":"Huge 'God of Chaos' asteroid is speeding up and could smash into Earth in just 48 years - Mirror Online","description":"Researchers from the University of Hawaii have warned that an asteroid dubbed the ‘God of Chaos’ could smash into Earth in 2068","url":"https://www.mirror.co.uk/science/huge-god-chaos-asteroid-speeding-22923323","urlToImage":"https://i2-prod.mirror.co.uk/science/article22156743.ece/ALTERNATES/s1200/0_JS213229512.jpg","publishedAt":"2020-10-29T07:56:00Z","content":"The idea of an enormous asteroid colliding with Earth may sound like a plot from a science fiction blockbuster, but it could become a reality in just 48 years. \r\nResearchers from the University of Ha… [+3014 chars]"}]}
const usNews = {"status":"ok","totalResults":38,"articles":[{"source":{"id":null,"name":"New York Times"},"author":"Constant Méheut, Aurelien Breeden","title":"Nice Knife Attack Being Treated as Terrorism - The New York Times","description":"At least two people were killed at a church in the southern city of Nice.","url":"https://www.nytimes.com/2020/10/29/world/europe/nice-attack-france.html","urlToImage":"https://static01.nyt.com/images/2020/10/29/world/29nice-attack01sub/29nice-attack01sub-facebookJumbo.jpg","publishedAt":"2020-10-29T09:57:00Z","content":"Éric Ciotti, a lawmaker who represents the region that includes Nice, told reporters in Paris that, based on the information provided to him by emergency services, it looks a lot like a terrorist att… [+617 chars]"},{"source":{"id":null,"name":"TooFab"},"author":"Toofab Staff","title":"The Masked Singer Recap Season 4, Episode 5: Unmasking Shocks No One - TooFab","description":"Group C finally unleashes Broccoli, Jellyfish, Lips, Mushroom and Squiggly Monster on the world -- but who was just as quickly sent home?","url":"https://toofab.com/2020/10/29/the-masked-singer-shocks-no-one-with-latest-reveal/","urlToImage":"https://images.toofab.com/image/74/16by9/2020/10/29/74ad85d0d0b7457b9ff7e16cf49f8a39_xl.jpg","publishedAt":"2020-10-29T09:44:00Z","content":"Group C finally unleashes Broccoli, Jellyfish, Lips, Mushroom and Squiggly Monster on the world -- but who was just as quickly sent home?\r\nThis is what we waited a month and a half to see? This is th… [+11744 chars]"},{"source":{"id":null,"name":"NPR"},"author":"","title":"13 Races Will Determine Senate Control - NPR","description":"These are the 13 races that will determine control of the Senate in the next Congress. To win control, Democrats would need to net-gain four seats, or three seats plus control of the White House.","url":"https://www.npr.org/2020/10/29/927878184/the-13-races-that-will-determine-senate-majority","urlToImage":"https://media.npr.org/assets/img/2020/10/28/ap_20293744710077-1-_wide-0a4d871f63ea9b3899282536c35daa02c00de638.jpg?s=1400","publishedAt":"2020-10-29T09:03:48Z","content":"President Trump campaigned with Sen. Martha McSally, R-Ariz., in Prescott, Ariz., this month. McSally is a top target of Senate Democrats, who are hoping to flip her seat blue on Election Day.\r\nAlex … [+6523 chars]"},{"source":{"id":null,"name":"Phys.Org"},"author":"Marcia Dunn","title":"Red coating contaminates SpaceX rockets, delays crew launch - Phys.org","description":"SpaceX's second astronaut flight is off until mid-November because red lacquer dripped into tiny vent holes in two rocket engines that now must be replaced.","url":"https://phys.org/news/2020-10-red-coating-contaminates-spacex-rockets.html","urlToImage":"https://scx2.b-cdn.net/gfx/news/hires/2020/redcoatingco.jpg","publishedAt":"2020-10-29T08:12:47Z","content":"In this Thursday, Sept. 24, 2020, image released by SpaceX/NASA, NASA's SpaceX Crew-1 astronauts, from left, mission specialist Shannon Walker, pilot Victor Glover, and Crew Dragon commander Michael … [+2841 chars]"},{"source":{"id":"the-verge","name":"The Verge"},"author":"Jon Porter","title":"Bang & Olufsen’s latest lunchbox-shaped speaker has a built-in Qi wireless charger - The Verge","description":"Bang & Olufsen’s latest portable Bluetooth speaker is the Beolit 20, a lunchbox-sized successor to 2017’s Beolit 17. The big upgrade this time around is a Qi wireless charging pad that can power devices like phones or earbuds.","url":"https://www.theverge.com/2020/10/29/21536674/bang-and-olufsen-beolit-20-release-date-news-price-qi-wireless-charging-pad-bluetooth-speaker","urlToImage":"https://cdn.vox-cdn.com/thumbor/eWbPQIr0YaA1t3Sx42i-_howV4I=/0x1804:7680x5825/fit-in/1200x630/cdn.vox-cdn.com/uploads/chorus_asset/file/21993007/PS_Beolit_20_GreyMist_Charging_Iphone.tif.jpg","publishedAt":"2020-10-29T08:00:00Z","content":"The Beolit 20 also has 30 percent more battery life\r\nThe Beolit 20 features a Qi wireless charging pad for keeping other devices topped up with power.\r\nImage: Bang &amp; Olufsen\r\nBang &amp; Olufsens … [+1314 chars]"},{"source":{"id":"business-insider","name":"Business Insider"},"author":"Sarah Al-Arshani","title":"Officials say Trump admin secretly pushing herd immunity COVID-19 strategy: report - Business Insider - Business Insider","description":"\"Herd immunity is not a strategy or a solution. It is surrender to a preventable virus,\" Marc Lipsitch, an epidemiologist said.","url":"https://www.businessinsider.com/officials-trump-admin-secretly-pushing-herd-immunity-coronavirus-strategy-report-2020-10","urlToImage":"https://i.insider.com/5f9a230e6f5b310011724186?width=1200&format=jpeg","publishedAt":"2020-10-29T07:49:49Z","content":"Three officials in President Donald Trump's White House said the administration, despite publicly denying it, is actually pushing for a herd immunity strategy to the COVID-19 pandemic, although it co… [+2159 chars]"},{"source":{"id":null,"name":"WSB Atlanta"},"author":"Severe Weather Team 2","title":"LIVE UPDATES: Zeta brings risk of damaging wind gusts, brief tornadoes, flooding - WSB Atlanta","description":"Watch Channel 2 Action News This Morning RIGHT NOW for the impacts Zeta is bringing to Georgia.","url":"https://www.wsbtv.com/weather/live-updates-zeta-brings-risk-flooding-damaging-wind-brief-tornadoes/MPUQUP55GNDLRI2L3GL2TDNYWU/","urlToImage":"https://cloudfront-us-east-1.images.arcpublishing.com/cmg/TQZYYXIPXRATXIDJJ3J5Y3F3EU.jpg","publishedAt":"2020-10-29T07:26:11Z","content":"ATLANTA — Zeta weakened to a tropical storm as it moves into Georgia Thursday morning.\r\nSevere Weather Team 2 has been tracking the storm for days and warning you about the impacts we will see from Z… [+4488 chars]"},{"source":{"id":null,"name":"CNBC"},"author":"Sam Meredith","title":"Oil major Shell increases dividend as third-quarter earnings beat forecasts - CNBC","description":"Shell said it would raise its dividend to shareholders for the third quarter of 2020 and on an annual basis going forward.","url":"https://www.cnbc.com/2020/10/29/shell-earnings-q3-2020.html","urlToImage":"https://image.cnbcfm.com/api/v1/image/106723253-1601465290359-gettyimages-1005135896-NETHERLANDS_SHELL.jpeg?v=1601465337","publishedAt":"2020-10-29T07:16:00Z","content":"LONDON Oil giant Royal Dutch Shell on Thursday reported better-than-expected third-quarter earnings and announced plans to increase its dividend to shareholders.\r\nThe Anglo-Dutch company reported adj… [+2864 chars]"},{"source":{"id":"entertainment-weekly","name":"Entertainment Weekly"},"author":"Dalton Ross","title":"Cody Calafiore explains why he ousted Nicole on 'Big Brother: All-Stars' - Entertainment Weekly","description":"EW spoke to Cody shortly after he stepped out of the Big Brother house and asked him about his big decision, his biggest jury worry, how his winning season stacks up against Derrick’s, and much more.","url":"https://ew.com/tv/big-brother-all-stars-cody-calafiore-interview/","urlToImage":"https://imagesvc.meredithcorp.io/v3/mm/image?q=85&c=sc&poi=%5B1080%2C225%5D&w=2000&h=1047&url=https%3A%2F%2Fstatic.onecms.io%2Fwp-content%2Fuploads%2Fsites%2F6%2F2020%2F10%2F16%2FBig_Brother-1-2000.jpg","publishedAt":"2020-10-29T06:25:00Z","content":"He won four Head of Household competitions. He won four Veto contests. He was never nominated for eviction all season long. And, at the end, he won every single jury vote. By pretty much every measur… [+10465 chars]"},{"source":{"id":"the-verge","name":"The Verge"},"author":"Sam Byford","title":"Samsung posts highest revenue ever after boost in flagship phone sales - The Verge","description":"Samsung has announced its highest quarterly revenue ever after a boost in demand for memory and flagship smartphones. However, the company expects competition to increase this quarter.","url":"https://www.theverge.com/2020/10/29/21539702/samsung-q3-earnings-record-revenue-phone-sales","urlToImage":"https://cdn.vox-cdn.com/thumbor/pILvJa6AAQfRHrArgMLHGApWutM=/0x215:2040x1283/fit-in/1200x630/cdn.vox-cdn.com/uploads/chorus_asset/file/21865497/vpavic_200907_4181_0017.jpg","publishedAt":"2020-10-29T06:24:36Z","content":"But more competition is expected this quarter\r\nSamsung Electronics has announced quarterly earnings for the July-September 2020 period, making 66.96 trillion won in revenue and 12.35 trillion in oper… [+1869 chars]"},{"source":{"id":null,"name":"New York Times"},"author":"Shane Goldmacher","title":"Biden vs. Trump: Live Updates for the 2020 Election - The New York Times","description":"For the two candidates, whose paths have rarely crossed during the campaign, the Florida visit is an opportunity to highlight differences. The Supreme Court will allow election officials in Pennsylvania and North Carolina, two key battlegrounds, to accept bal…","url":"https://www.nytimes.com/live/2020/10/29/us/trump-biden-election","urlToImage":"https://static01.nyt.com/images/2020/10/28/us/28elections-briefing-trump-az/28elections-briefing-trump-az-facebookJumbo.jpg","publishedAt":"2020-10-29T06:19:00Z","content":"LiveUpdated Oct. 29, 2020, 2:44 a.m. ET\r\nOct. 29, 2020, 2:44 a.m. ET\r\nFor the two candidates, whose paths have rarely crossed during the campaign, the Florida visit is an opportunity to highlight dif… [+14314 chars]"},{"source":{"id":null,"name":"New York Times"},"author":"Choe Sang-Hun","title":"Lee Myung-bak, South Korean Ex-President, Is Ordered Back to Prison - The New York Times","description":"The country’s Supreme Court upheld a 17-year sentence for Lee Myung-bak. He will be the second former leader of South Korea​ behind bars on corruption charges.","url":"https://www.nytimes.com/2020/10/29/world/asia/korea-president-bribery-conviction-prison.html","urlToImage":"https://static01.nyt.com/images/2020/10/29/world/29skorea-1/29skorea-1-facebookJumbo.jpg","publishedAt":"2020-10-29T06:08:00Z",
"content":"The court also ruled that Mr. Lee, a former executive of Hyundai, disguised his ownership of a lucrative auto parts maker under the names of relatives and embezzled 24 billion won from the company be… [+1373 chars]"},{"source":{"id":"cnn","name":"CNN"},"author":"Maggie Fox, CNN","title":"Immunity to coronavirus lingers for months, study finds - CNN","description":"Immunity to Covid-19 infection lingers for at least five months, researchers reported -- and probably longer than that.","url":"https://www.cnn.com/2020/10/29/health/covid-immunity-lingers-months-wellness/index.html","urlToImage":"https://cdn.cnn.com/cnnnext/dam/assets/200701153846-fda-vacuna-rec-super-tease.jpg","publishedAt":"2020-10-29T05:15:00Z","content":"(CNN)Immunity to Covid-19 infection lingers for at least five months, researchers reported -- and probably longer than that.\r\nWhile the report may seem confusing and contradictory to a similar report… [+4551 chars]"},{"source":{"id":null,"name":"ScienceAlert"},"author":"Michelle Starr","title":"Astronomers Discovered 39 New Gravitational Wave Events in Just Six Months - ScienceAlert","description":"A little over five years ago, humanity was yet to detect gravitational waves.","url":"https://www.sciencealert.com/in-just-six-months-we-detected-39-new-gravitational-wave-events","urlToImage":"https://www.sciencealert.com/images/2020-10/processed/bh-cluster_1024.jpg","publishedAt":"2020-10-29T05:03:13Z","content":"A little over five years ago, humanity was yet to detect gravitational waves.\r\nNow, observations are pouring in at an astonishing speed. In a six-month span last year, the LIGO-Virgo collaboration de… [+4634 chars]"},{"source":{"id":null,"name":"NPR"},"author":"","title":"U.S. Hospitals Targeted In Rising Wave Of Ransomware Attacks, Federal Agencies Say - NPR","description":"An alert warns hospitals and health care providers that there is \"credible information of an increased and imminent cybercrime threat.\"","url":"https://www.npr.org/2020/10/29/928979988/u-s-hospitals-targeted-in-rising-wave-of-ransomware-attacks-federal-agencies-say","urlToImage":"https://media.npr.org/assets/img/2020/10/28/gettyimages-1228230988_wide-a90b2bf62e85c937cc77d067fabab2d0572f7a01.jpg?s=1400","publishedAt":"2020-10-29T04:23:00Z","content":"U.S. federal agencies sent an alert Wednesday night that there is \"credible information of an increased and imminent cybercrime threat\" to hospitals and healthcare providers.\r\nNicolas Asfouri/AFP via… [+2561 chars]"},{"source":{"id":null,"name":"Happy Mag"},"author":null,"title":"Scientists discover new section of Great Barrier Reef that's taller than the Empire State Building - Happy Mag","description":"Scientists have discovered the first new reef off the Great Barrier Reef in 120 years – and it's taller than the Empire State Building.","url":"https://happymag.tv/great-barrier-reef-500-metre-tall-reef-discovered/","urlToImage":"https://happymag.tv/wp-content/uploads/2020/10/gbrfeat.jpg","publishedAt":"2020-10-29T04:21:00Z","content":"Scientists have discovered a 500-metre high reef, the first to be found off Australia’s Great Barrier Reef since the late 19th century.\r\nThe discovery of the detached part of the reef was made by the… [+1889 chars]"},{"source":{"id":null,"name":"Tom's Guide"},"author":"Mark Spoonauer","title":"5 ways Samsung Galaxy S21 can beat the iPhone 12 - Tom's Guide","description":"The Galaxy S21 can overtake the iPhone 12 with these features","url":"https://www.tomsguide.com/news/5-ways-samsung-galaxy-s21-can-beat-the-iphone-12","urlToImage":"https://cdn.mos.cms.futurecdn.net/NyWTePyTFjHMygQxJNvQ23-1200-80.jpg","publishedAt":"2020-10-29T04:00:00Z","content":"The Samsung Galaxy S21 leaks are ramping up earlier than expected, and thats because Samsungs next flagship is rumored to launch earlier than usual. In fact, the S21 series could debut as soon as Jan… [+3626 chars]"},{"source":{"id":null,"name":"KSL.com"},"author":"https://www.facebook.com/kslcom/","title":"Why did Ryan Smith buy the Utah Jazz? A look at what brought the Qualtrics CEO to the NBA - KSL.com","description":"Ryan Smith dreamed of playing for the Jazz; now he gets to run them.","url":"https://www.ksl.com/article/50039403/why-did-ryan-smith-buy-the-utah-jazz-a-look-at-what-brought-the-qualtrics-ceo-to-the-nba","urlToImage":"https://img.ksl.com/slc/2798/279874/27987434.jpeg?filter=ksl/responsive_story_lg","publishedAt":"2020-10-29T03:56:15Z","content":"SALT LAKE CITY Ryan Smith, Qualtrics CEO and co-founder and the soon-to-be Utah Jazz owner, was blunt in his first remarks after the announcement he would be taking over the team.\r\n\"There's no secret… [+4135 chars]"},{"source":{"id":null,"name":"New York Post"},"author":"Tamar Lapin","title":"Hollywood producer David Guillod arrested on sex assault charges again - New York Post ","description":"A Hollywood producer was arrested on suspicion of sexual assault on Wednesday — four months after he was charged with drugging, kidnapping and raping four women, police said. David Guillod — …","url":"https://nypost.com/2020/10/28/hollywood-producer-david-guillod-arrested-on-sex-assault-charges-again/","urlToImage":"https://nypost.com/wp-content/uploads/sites/2/2020/10/david-guillod.jpg?quality=90&strip=all&w=1200","publishedAt":"2020-10-29T03:30:00Z","content":"A Hollywood producer was arrested on suspicion of sexual assault on Wednesday — four months after he was charged with drugging, kidnapping and raping four women, police said.\r\nDavid Guillod who produ… [+1142 chars]"},{"source":{"id":"usa-today","name":"USA Today"},"author":"Danny Segura","title":"With retirement approaching, Anderson Silva fondly looks back on most memorable fights - MMA Junkie","description":"So many great moments in the legendary career of Anderson Silva, but these ones stand out.","url":"https://mmajunkie.usatoday.com/lists/ufc-news-anderson-silva-reflect-most-memorable-fight-before-retirement","urlToImage":"https://mmajunkie.usatoday.com/wp-content/uploads/sites/91/2019/04/anderson-silva-workout-rio-de-janeiro-getty-5.jpg?w=1000&h=576&crop=1","publishedAt":"2020-10-29T02:49:10Z","content":"Anderson Silva submits Chael Sonnen at UFC 117.\r\n“First of all, in this fight in particular, I’m very comfortable talking about it and happy to talk about it, because Chael gave me the energy to trai… [+464 chars]"}]}

/*const items = [
  { name: 'TURQUOISE', code: '#1abc9c' }, { name: 'EMERALD', code: '#2ecc71' },
  { name: 'PETER RIVER', code: '#3498db' }, { name: 'AMETHYST', code: '#9b59b6' },
  { name: 'WET ASPHALT', code: '#34495e' }, { name: 'GREEN SEA', code: '#16a085' },
  { name: 'NEPHRITIS', code: '#27ae60' }, { name: 'BELIZE HOLE', code: '#2980b9' },
  { name: 'WISTERIA', code: '#8e44ad' }, { name: 'MIDNIGHT BLUE', code: '#2c3e50' },
  { name: 'SUN FLOWER', code: '#f1c40f' }, { name: 'CARROT', code: '#e67e22' },
  { name: 'ALIZARIN', code: '#e74c3c' }, { name: 'CLOUDS', code: '#ecf0f1' },
  { name: 'CONCRETE', code: '#95a5a6' }, { name: 'ORANGE', code: '#f39c12' },
  { name: 'PUMPKIN', code: '#d35400' }, { name: 'POMEGRANATE', code: '#c0392b' },
  { name: 'SILVER', code: '#bdc3c7' }, { name: 'ASBESTOS', code: '#7f8c8d' },
];*/

function TopNews (){
  const navigation = useNavigation();
  const [country, setCountry] = useState('gb');
  const [items, setItems] = useState([]);

  const fetchDataLocal = (newCountry) => {
    setCountry(newCountry);
    const news = [];
    // Update the document title using the browser API
    console.log(`You choosed ${newCountry}`);
    let articlesForCountry = newCountry=='us' ? usNews : gbNews;
    articlesForCountry.articles.map(article => {
      news.push({
        title: article.title,
        urlToImage: article.urlToImage,
        description: article.description.substring(0,50),
        content: article.content,
      })
    })
    setItems(news)
  }

  const fetchDataFromURL = (value) => {
    setCountry(value);
    const news = [];
    // Update the document title using the browser API
    console.log(`You choosed ${country}`);
    var oldCountry = country=='us' ? 'gb' : 'us';
    fetch(url.replace('country='+oldCountry, 'country='+country), {
           method: 'GET'
        })
        .then((response) => response.json())
        .then((responseJson) => responseJson.articles)
        .then((articles) => {
          articles.map(article => {
            news.push({
              title: article.title,
              urlToImage: article.urlToImage,
              description: article.description,
            })
          })
        })
        .then(()=>{
          console.log(news);
          setItems(news)
        })
        .catch((error) => {
           console.error(error);
        });
  }
  useEffect(() => {
    console.log('Effect triggered')
    fetchDataLocal('gb')
  }, [])
  return (
    <View style={styles.container}>
      <SwitchSelector style={styles.switchSelector} options={options} initial={0} buttonColor='#45ADA8' onPress={ value => fetchDataLocal(value)} />
      <FlatGrid
        itemDimension={130}
        data={items}
        style={styles.gridView}
        // staticDimension={300}
        // fixed
        // spacing={20}
        renderItem={({ item, index }) => (
          <View style={[styles.itemContainer, { backgroundColor: '#547980' }]}>
            <Text style={styles.itemTitle}>{item.title}</Text>
            <Image style={styles.itemImage}
              source={{uri: item.urlToImage }}
            />
            <Text style={styles.itemDescription}>{item.description}</Text>
            <View style={{flex: 1, justifyContent: 'flex-end'}}>
              <Button
                style={styles.more}
                title='More >'
                onPress={() => navigation.navigate('OneNews', {selectedLanguage: country, openedNews: item})}
              />
            </View>
          </View>
        )}
      />
    </View>
  );
}

  const styles = StyleSheet.create({
    container: {
      marginTop: 20,
      flex: 1,
    },
    switchSelector: {
      width: '50%',
      alignSelf: "center"
    },
    gridView: {
      marginTop: 10,
      flex: 1,
    },
    itemContainer: {
      justifyContent: 'flex-start',
      borderRadius: 5,
      padding: 10,
      height: 300,
    },
    itemTitle: {
      color: '#fff',
      fontWeight: '100',
    },
    itemImage: {
      width: '80%',
      height: '30%',
      resizeMode: 'stretch',
      alignSelf: 'center'
    },
    itemDescription: {
      fontWeight: '100',
      fontSize: 12,
      color: '#fff',
    },
    more: {
      fontWeight: '200',
      fontSize: 12,
      color: '#000',
      alignSelf: "flex-end"
    },
  });

  export default TopNews;